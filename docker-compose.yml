version: "3.9"
services:
  frontend:
    image: frontend_image
    container_name: frontend
    restart: unless-stopped
    build:
      context: ./FrontEnd
    ports: 
      - 3000:3000
    environment:
      - MESSAGE="Building FrontEnd"
    
  database:
    image: database_image
    container_name: database
    restart: unless-stopped
    build:
      context: ./Database
    ports: 
      - 8000:8000
    environment:
      - MESSAGE="Building Database"

  # auth:
  #   restart: unless-stopped
  #   image: authimage
  #   container_name: auth
  #   restart: unless-stopped
  #   expose:
  #     - "5000"
  #   build:
  #     context: ./Authentication
  #   environment:
  #     - MESSAGE="Building Authentication"

  # daterecommender:
  #   restart: unless-stopped
  #   image: daterecommenderimage
  #   container_name: daterecommender
  #   restart: unless-stopped
  #   expose:
  #     - "5000"
  #   build:
  #     context: ./DateRecommender
  #   environment:
  #     - MESSAGE="Building DateRecommender"

  # profilebackend:
  #   restart: unless-stopped
  #   image: profilebackendimage
  #   container_name: profilebackend
  #   restart: unless-stopped
  #   expose:
  #     - "5000"
  #   build:
  #     context: ./ProfileBackend
  #   environment:
  #     - MESSAGE="Building ProfileBackend"

  textchat:
    image: textchatimage
    container_name: textchat
    restart: unless-stopped
    expose:
      - "5000"
    build:
      context: ./TextChat
    environment:
      - MESSAGE="Building TextChat"
    # networks:
    #   app_net:
    #     ipv4_address: 172.16.238.10

  # swipe:
  #   restart: unless-stopped
  #   image: swipeimage
  #   container_name: swipe
  #   restart: unless-stopped
  #   expose:
  #     - "5000"
  #   build:
  #     context: ./Swiping
  #   environment:
  #     - MESSAGE="Building Authentication"

  # frontend:
  #   image: frontendimage
  #   container_name: frontend
  #   restart: unless-stopped
  #   expose:
  #     - "3000"
  #   build:
  #     context: ./FrontEnd
  #   environment:
  #     - MESSAGE="Building the FrontEnd"

  nginx:
    image: nginximage
    container_name: nginx
    restart: always
    build:
      context: ./APIGateWay
    ports:
      - "8080:80"
    depends_on:
      # - auth
      # - daterecommender
      # - profilebackend
      - textchat
      # - frontend
      # - swipe
